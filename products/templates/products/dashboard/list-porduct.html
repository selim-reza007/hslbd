{% comment %} {% extends "my_admin\base.html" %} {% endcomment %}
{% extends "my_admin/base.html" %}


{% block title %}
    All Products
{% endblock title %}

{% block content %}
    <div class="pb-3">
        <p class="h2 bg-success text-white text-center py-2 rounded mb-3">All Products</p>
        <a href="{% url 'products:load-types' %}" class="btn btn-info mb-3">Add new Product</a>
        
        {% if messages %}
        <ul class="alert alert-success list-unstyled alert-dismissible fade show" role="alert">
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </ul>
        {% endif %}
        
        <div class="row g-3 border my-2 pb-3 mx-1">
            <p class="h4 fw-bold text-center bg-light py-3 mt-0">Select type to display Products by type</p>
            {% for data in types %}
                {% include "my_admin/components/_type.html" with type=data %}
            {% endfor %}
        </div>

        <div class="mt-0 row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-3">
            {% if products %}
                {% for data in products %}
                    {% include "components/_single_product.html" with product=data %}
                {% endfor %}
            {% else %}
                <p class="display-2 text-danger">No product created!</p>
            {% endif %}
        </div>

    </div>
{% endblock content %}